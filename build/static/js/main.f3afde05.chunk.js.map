{"version":3,"sources":["firebase/config.js","assets/delete_icon.svg","components/RecipeList.js","pages/home/Home.js","pages/create/Create.js","pages/recipe/Recipe.js","pages/search/Search.js","components/Navbar.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","myFirestore","firestore","RecipeList","recipes","history","useHistory","handleDelete","id","a","collection","doc","delete","go","className","map","recipe","title","src","delete_icon","onClick","cookingTime","method","substring","to","Home","useState","data","setData","isPending","setIsPending","error","setError","useEffect","get","then","snapshot","empty","fetchedData","docs","push","catch","err","message","Create","setTitle","setCookingTime","setMethod","newIngredient","setNewIngredient","ingredients","setIngredients","inputRef","useRef","initialRef","handleSubmit","e","preventDefault","includes","console","log","add","current","focus","onSubmit","type","value","ref","required","onChange","target","ing","trim","replace","txt","charAt","toUpperCase","substr","toLowerCase","prevIngredients","i","Recipe","useParams","setRecipe","exists","each","Search","Navbar","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3afde05.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/firestore\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBiXylSJsWAgVqrv7MJxtJkNoTPm589Bwc\",\r\n    authDomain: \"recipe-keeper-aa9dd.firebaseapp.com\",\r\n    projectId: \"recipe-keeper-aa9dd\",\r\n    storageBucket: \"recipe-keeper-aa9dd.appspot.com\",\r\n    messagingSenderId: \"570449685197\",\r\n    appId: \"1:570449685197:web:5084c96b40be3689275784\",\r\n    measurementId: \"G-39PZ4H3T9D\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst myFirestore = firebase.firestore();\r\n\r\nexport {myFirestore};","export default __webpack_public_path__ + \"static/media/delete_icon.1129c53a.svg\";","import React from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport delete_icon from '../assets/delete_icon.svg'\r\nimport {myFirestore} from '../firebase/config';\r\n//styles\r\nimport './RecipeList.css'\r\n\r\n\r\nexport default function RecipeList({recipes}) {\r\n    const history = useHistory();\r\n    const handleDelete = async (id) => {\r\n        await myFirestore.collection(\"myRecipe\").doc(id).delete();\r\n        history.go(0);\r\n    }\r\n    return (\r\n        <div className='recipe-list'>\r\n            {recipes.map(recipe => (\r\n                <div key={recipe.id} className='card'>\r\n                    <h3>{recipe.title}</h3>\r\n                    <img src={delete_icon} className='delete' onClick={() => handleDelete(recipe.id)} />\r\n                    <p>{recipe.cookingTime} to make.</p>\r\n                    <div>{recipe.method.substring(0, 100)}...</div>\r\n                    <Link to={`/recipes/${recipe.id}`}>Cook this</Link>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {myFirestore} from \"../../firebase/config\";\r\nimport RecipeList from \"../../components/RecipeList\";\r\n\r\n//styles\r\nimport \"./Home.css\";\r\n\r\nexport default function Home() {\r\n    const [data, setData] = useState(null);\r\n    const [isPending, setIsPending] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    useEffect(() => {\r\n        setIsPending(true);\r\n        myFirestore\r\n            .collection(\"myRecipe\")\r\n            .get()\r\n            .then((snapshot) => {\r\n                if (snapshot.empty) {\r\n                    setError(\"No recipes available!\");\r\n                    setIsPending(false);\r\n                } else {\r\n                    let fetchedData = [];\r\n                    snapshot.docs.map((doc) => {\r\n                        fetchedData.push({id: doc.id, ...doc.data()});\r\n                    });\r\n                    setData(fetchedData);\r\n                    setIsPending(false);\r\n                }\r\n            }).catch(err => {\r\n                setError(err.message);\r\n                setIsPending(false);\r\n            });\r\n    }, []);\r\n    return (\r\n        <div className='home'>\r\n            {error && <p className='error'>{error}</p>}\r\n            {isPending && <p className='loading'>Loading...</p>}\r\n            {data && <RecipeList recipes={data} />}\r\n        </div>\r\n    );\r\n}\r\n","//styles\r\nimport {useEffect, useRef, useState} from 'react'\r\nimport {useHistory} from 'react-router-dom';\r\nimport {myFirestore} from '../../firebase/config';\r\nimport './Create.css'\r\n\r\nexport default function Create() {\r\n  const [title, setTitle] = useState('');\r\n  const [cookingTime, setCookingTime] = useState('');\r\n  const [method, setMethod] = useState('');\r\n  const [newIngredient, setNewIngredient] = useState('');\r\n  const [ingredients, setIngredients] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const inputRef = useRef('');\r\n  const initialRef = useRef(null);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async e =>{\r\n    e.preventDefault();\r\n    const doc = {title, cookingTime: `${cookingTime} minutes`, method, ingredients}\r\n    try{\r\n      await myFirestore.collection(\"myRecipe\").get().then((snapshot) => {\r\n        let fetchedData = [];\r\n        snapshot.docs.map((doc) => fetchedData.push(doc.data().title));\r\n        if (!fetchedData.includes(title)){\r\n          myFirestore.collection(\"myRecipe\").add(doc);\r\n          // setError(null);\r\n          console.log(\"reached if\")\r\n        }else {\r\n          console.log(\"reached else\")\r\n          setError(\"Sorry, that title already exixts. Please try again with a different one.\")\r\n          console.log(error)\r\n        }\r\n      })\r\n      console.log(\"exit await\")\r\n      console.log(error)\r\n      if (error == null) history.push(\"/\");\r\n    }catch(err){\r\n      console.log(\"Post error!\")\r\n    }\r\n  }\r\n  console.log(\"exit all\")\r\n\r\n  const handleAdd = e =>{\r\n    e.preventDefault();\r\n    const ing = toTitleCase(newIngredient.trim());\r\n    if (ing && !ingredients.includes(ing)){\r\n      setIngredients(prevIngredients => [...prevIngredients, ing]);\r\n    }\r\n    setNewIngredient('');\r\n    inputRef.current.focus();\r\n  }\r\n\r\n  useEffect(() => {\r\n    initialRef.current.focus();\r\n  },[])\r\n\r\n  function toTitleCase(str) {\r\n    return str.replace(\r\n      /\\w\\S*/g,\r\n      function(txt) {\r\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n      }\r\n    );\r\n  }\r\n  \r\n  return (\r\n      <div className='create'>\r\n        {error && <p className='error'>{error}</p>}\r\n          <h2 className='page-title'>Add a new Recipe</h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <label>\r\n              <span>Recipe title</span>\r\n              <input type='text' value={title} ref={initialRef} required onChange={e=>setTitle(e.target.value)}/>\r\n            </label>\r\n\r\n            <label>\r\n              <span>Ingredients</span>\r\n              <div className='ingredients'>\r\n                <input type='text' value={newIngredient} ref={inputRef} onChange={e=> setNewIngredient(e.target.value)}/>\r\n                <button className='btn' onClick={handleAdd}>Add</button>\r\n              </div>\r\n            </label>\r\n\r\n            <p>Ingredients: {ingredients.map(i => <em key={i}>{i}, </em>)}</p>\r\n\r\n            <label>\r\n              <span>Recipe method</span>\r\n              <textarea value={method} required onChange={e=>setMethod(e.target.value)}/>\r\n            </label>\r\n\r\n            <label>\r\n              <span>Cooking time (mins)</span>\r\n              <input type='number' value={cookingTime} required onChange={e=>setCookingTime(e.target.value)}/>\r\n            </label>\r\n\r\n            <button className='btn'>Submit</button>\r\n          </form>\r\n      </div>\r\n  )\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport {myFirestore} from '../../firebase/config';\r\n//style\r\nimport \"./Recipe.css\"\r\n\r\nexport default function Recipe() {\r\n  const {id} = useParams();\r\n  const [recipe, setRecipe] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsPending(true);\r\n    myFirestore.collection(\"myRecipe\").doc(id).get().then((snapshot) => {\r\n      if (snapshot.exists){\r\n        setIsPending(false);\r\n        setRecipe(snapshot.data());\r\n      }else{\r\n        setIsPending(false);\r\n        setError(\"Sorry, this recipe is not available.\")\r\n      }\r\n    })\r\n  },[id])\r\n\r\n  return (\r\n    <div className='recipe'>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {isPending && <p className=\"loading\">Loading...</p>}\r\n      {recipe && (\r\n        <div>\r\n          <h2 className='page-title'>{recipe.title}</h2>\r\n          <p>Takes {recipe.cookingTime} to cook.</p>\r\n          <ul>\r\n            {recipe.ingredients.map(each=> <li key={each}>{each}</li>)}\r\n          </ul>\r\n          <p className='method'>{recipe.method}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n//styles\r\nimport \"./Search.css\"\r\n\r\nexport default function Search() {\r\n  return <div>Search</div>;\r\n}\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n//Styles\r\nimport './Navbar.css'\r\n\r\nexport default function Navbar() {\r\n  return (\r\n      <div className='navbar'>\r\n          <nav>\r\n              <Link to='/' className='brand'>\r\n                  <h1>Recipe Keeper</h1>\r\n              </Link>\r\n              <Link to='/create'>\r\n                  Create Recipe\r\n              </Link>\r\n          </nav>\r\n      </div>\r\n  )\r\n}\r\n","import { BrowserRouter, Switch, Route } from 'react-router-dom';\n\n//Page components\nimport Home from './pages/home/Home';\nimport Create from './pages/create/Create';\nimport Recipe from './pages/recipe/Recipe';\nimport Search from './pages/search/Search';\nimport Navbar from './components/Navbar';\n//Styles\nimport './App.css'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Navbar/>\n        <switch>\n          <Route exact path = '/'><Home/></Route>\n          <Route path = '/create'><Create/></Route>\n          <Route path = '/recipes/:id'><Recipe/></Route>\n          <Route path = '/search'><Search/></Route>\n        </switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}